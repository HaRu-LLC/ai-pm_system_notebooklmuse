---
marp: true
theme: default
paginate: true
header: "AIポリテラシー育成プログラム"
footer: "Session 8-1: 知識ベース設計の原則（理論編）"
style: |
  section {
    font-family: 'Noto Sans JP', 'Hiragino Sans', sans-serif;
  }
  h1 {
    color: #2563eb;
  }
  h2 {
    color: #1e40af;
  }
  .highlight {
    background: linear-gradient(transparent 60%, #fef08a 60%);
  }
  .point {
    background-color: #dbeafe;
    padding: 1rem;
    border-radius: 8px;
  }
  table {
    font-size: 0.9em;
  }
---

<!-- _class: lead -->
# Session 8-1
## 知識ベース設計の原則（理論編）

**AIポリテラシー育成プログラム**
Week 8 / Phase 3

---

# Session 8 全体構成

| パート | 内容 | 実習 | 必須/任意 |
|---|---|---|---|
| **8-1（本動画）** | 知識ベース設計の原則（理論） | EX-15 | **必須** |
| 8-2 | メタプロンプトで知識ベース生成（実践） | EX-16 | 任意 |

> **時間目安**: 8-1（理論+EX-15）約55分、8-2（実践+EX-16）は任意で追加75分

---

# 前回の振り返り（Session 7）

### 学んだこと

| Session | テーマ | 成果物 |
|---|---|---|
| 7-1 | Instructions設計の原則 | 7構成要素の理解 |
| 7-2 | メタプロンプトでInstructions生成 | **Instructions v1（EX-14）** |

### 今日の位置づけ

```
Session 6: GPTs企画書
         ↓ 入力
Session 7: Instructions生成
         ↓ 入力
Session 8: 知識ベース構築 ← 今ここ
         ↓ 入力
Session 9-10: 統合・テスト
```

---

# 本動画の学習目標

この動画を終えると、以下ができるようになります：

✅ 知識ベース（Knowledge）の役割と効果を理解できる

✅ ファイル形式とチャンク設計の基本を説明できる

✅ 検索精度を高めるための設計原則を適用できる

---

<!-- _class: lead -->
# Part 1: 知識ベースとは

---

# 知識ベースの位置づけ

### GPTsの3要素（復習）

| 要素 | 役割 | Session |
|---|---|---|
| Instructions | GPTsの動作指示 | Session 7（完了） |
| **Knowledge** | 専門知識の追加 | **Session 8** ← 今ここ |
| Actions | 外部システム連携 | 紹介のみ |

> **ポイント**: Knowledgeは「GPTsの専門知識」。これがあるから業務に使える

---

# 知識ベースとは何か

### AIに「専門知識」を与える仕組み

```
【知識ベースなし】
ユーザー: 「御社の返品ポリシーは？」
GPTs: 「一般的には30日以内ですが、
      詳細は各企業のポリシーをご確認ください」
→ 一般論しか答えられない

【知識ベースあり】
ユーザー: 「御社の返品ポリシーは？」
GPTs: 「当社の返品ポリシーは以下の通りです：
      ・未開封品：購入後14日以内
      ・開封品：7日以内（理由が必要）
      ・セール品：返品不可」
→ 自社の正確な情報を回答
```

---

# なぜ知識ベースが重要か

### AIの知識の限界

| 観点 | 一般的なAI | 知識ベース付きGPTs |
|---|---|---|
| **情報の鮮度** | 学習データまで | アップロードした最新情報 |
| **自社情報** | 知らない | 知っている |
| **機密情報** | 扱えない | 安全に参照可能 |
| **正確性** | 推測が混じる | 根拠に基づく回答 |

> **価値**: 「AIを自社の専門家にする」ための仕組み

---

# 知識ベースの効果

### Before/After比較

```
【Before: 知識ベースなし】
Q: 「新入社員向けの研修プログラムについて教えて」
A: 「一般的な新入社員研修は、ビジネスマナー、
    会社概要、業務スキルの3つで構成されます...」
→ 一般論（どの会社にも当てはまる回答）

【After: 知識ベースあり】
Q: 「新入社員向けの研修プログラムについて教えて」
A: 「当社の新入社員研修は4週間プログラムです：
    Week 1: オリエンテーション（人事部担当）
    Week 2: 製品知識研修（技術部担当）
    Week 3: OJT（配属先で実施）
    Week 4: 振り返り・目標設定」
→ 自社固有の具体的な情報
```

---

# RAG（検索拡張生成）の仕組み

### Retrieval-Augmented Generation

```
┌─────────────────────────────────────────────────────┐
│                   ユーザーの質問                     │
│           「返品ポリシーを教えて」                   │
└─────────────────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────┐
│              Step 1: 検索（Retrieval）              │
│   質問に関連する情報をKnowledgeから検索              │
│   → 「返品ポリシー.pdf」の該当部分を抽出            │
└─────────────────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────┐
│              Step 2: 生成（Generation）             │
│   検索結果を元に、自然な回答を生成                   │
│   → 「御社の返品ポリシーは...」                     │
└─────────────────────────────────────────────────────┘
```

---

# RAGのメリット

### なぜRAGが有効か

| 従来の方法 | RAGアプローチ |
|---|---|
| AIに全情報を学習させる | 必要な情報だけ検索して参照 |
| 更新が困難 | ファイル差し替えで即時更新 |
| コストが高い | 低コストで運用可能 |
| 情報漏洩リスク | 組織内で完結 |

> **重要**: GPTsのKnowledgeはRAGの仕組みで動作する

---

<!-- _class: lead -->
# Part 2: ファイル形式の選択

---

# 対応ファイル形式

### GPTsがサポートする形式

| カテゴリ | 形式 | 適した用途 |
|---|---|---|
| **テキスト** | .txt, .md | マニュアル、FAQ、手順書 |
| **ドキュメント** | .pdf, .docx | 規程、契約書、報告書 |
| **データ** | .csv, .json | 一覧表、構造化データ |
| **コード** | .py, .js等 | コード例、設定ファイル |

---

# ファイル形式の選び方

### 判断フローチャート

```
情報の種類は？
    │
    ├── 文章形式（説明・手順）
    │       │
    │       ├── 構造が重要 → Markdown (.md)
    │       └── シンプル → Text (.txt)
    │
    ├── 一覧・表形式
    │       │
    │       ├── 単純な表 → CSV (.csv)
    │       └── 階層構造 → JSON (.json)
    │
    └── 既存資料の流用
            │
            └── そのまま → PDF (.pdf)
```

---

# 推奨: Markdownの活用

### なぜMarkdownが最適か

```markdown
# 返品ポリシー

## 1. 対象商品

### 1.1 返品可能
- 未開封品（購入後14日以内）
- 初期不良品（購入後30日以内）

### 1.2 返品不可
- 開封済みソフトウェア
- セール品・アウトレット品

## 2. 手続き方法

1. カスタマーサポートに連絡
2. 返品番号を取得
3. 指定住所に発送
```

---

# Markdownの利点

### 検索精度を高める構造

| 特徴 | 効果 |
|---|---|
| **見出し階層** | 情報の構造をAIが理解しやすい |
| **リスト形式** | 項目の関連性を明確に |
| **セクション分け** | 関連情報のグループ化 |
| **シンプル構文** | 余計なタグがなく検索ノイズが少ない |

> **ベストプラクティス**: 新規作成する知識ファイルはMarkdown形式を推奨

---

# JSON形式の活用

### 構造化データに最適

```json
{
  "faq": [
    {
      "id": "FAQ001",
      "category": "返品",
      "question": "返品期限は何日ですか？",
      "answer": "未開封品は14日、開封品は7日以内です",
      "keywords": ["返品", "期限", "日数"]
    },
    {
      "id": "FAQ002",
      "category": "返品",
      "question": "セール品は返品できますか？",
      "answer": "セール品・アウトレット品は返品不可です",
      "keywords": ["セール", "アウトレット", "返品不可"]
    }
  ]
}
```

---

# CSV形式の活用

### 一覧データに最適

```csv
商品コード,商品名,価格,カテゴリ,在庫状況
PRD001,ビジネスノートPC,128000,PC,在庫あり
PRD002,ワイヤレスマウス,3500,周辺機器,在庫あり
PRD003,モニター27インチ,45000,ディスプレイ,在庫わずか
PRD004,USBハブ,2800,周辺機器,在庫切れ
```

### 適した用途
- 商品リスト
- 価格表
- 担当者一覧

---

# ファイル形式選択マトリックス

### 情報タイプ別の推奨形式

| 情報タイプ | 推奨形式 | 理由 |
|---|---|---|
| マニュアル・手順書 | **Markdown** | 構造化しやすく検索精度高い |
| FAQ | **JSON** | Q&Aの構造を明確に定義 |
| 商品リスト | **CSV** | 一覧形式でシンプル |
| 社内規程 | **Markdown** | 条項の階層構造を表現 |
| 既存資料 | **PDF** | 変換コスト回避 |

---

<!-- _class: lead -->
# Part 3: チャンク設計

---

# チャンクとは

### 情報を検索可能な単位に分割

```
┌─────────────────────────────────────────────────────┐
│             大きなドキュメント                       │
│  「50ページのマニュアル.pdf」                        │
└─────────────────────────────────────────────────────┘
                         ↓ 分割
┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐
│ チャンク1 │ │ チャンク2 │ │ チャンク3 │ │ チャンク4 │
│ 導入部分  │ │ 第1章    │ │ 第2章    │ │ 第3章    │
└──────────┘ └──────────┘ └──────────┘ └──────────┘
```

> **目的**: 質問に関連するチャンクだけを効率的に検索

---

# なぜチャンク設計が重要か

### 検索精度への影響

```
【チャンクが大きすぎる場合】
Q: 「返品の送料は誰が負担？」
→ 50ページ全体を参照
→ 関連情報が埋もれて見つからない
→ 不正確な回答

【適切なチャンクサイズ】
Q: 「返品の送料は誰が負担？」
→ 「返品手続き」チャンクを検索
→ 該当部分のみ参照
→ 正確な回答
```

---

# チャンクサイズの目安

### 推奨サイズ

| サイズ | 文字数目安 | 適した用途 |
|---|---|---|
| **小** | 200-500文字 | FAQ、定義、短い説明 |
| **中** | 500-1000文字 | 手順、ポリシー、節単位 |
| **大** | 1000-2000文字 | 章単位、まとまった説明 |

> **原則**: 1つのトピック = 1つのチャンク

---

# チャンク設計の原則

### 3つの設計原則

```
1. 自己完結性
   → チャンク単体で意味が通じる

2. トピック単位
   → 1チャンク1トピック

3. 適切な粒度
   → 細かすぎず、大きすぎず
```

---

# 原則1: 自己完結性

### 悪い例と良い例

```
【悪い例】
チャンク1: 「返品について」
チャンク2: 「上記に加えて、セール品は対象外です」
→ 「上記」が何か分からない

【良い例】
チャンク1: 「返品ポリシー：未開封品は14日以内に返品可能」
チャンク2: 「返品対象外商品：セール品・アウトレット品は返品不可」
→ それぞれ単独で意味が通じる
```

---

# 原則2: トピック単位

### 情報のグルーピング

```
【悪い例: 複数トピックが混在】
チャンク: 「返品は14日以内。配送は3-5営業日。
         支払いはクレジットカードのみ。」
→ どの質問にも中途半端にヒット

【良い例: トピックごとに分離】
チャンク1: 「返品ポリシー - 返品期限は14日以内」
チャンク2: 「配送について - 配送期間は3-5営業日」
チャンク3: 「支払い方法 - クレジットカードのみ対応」
→ 適切な質問に適切なチャンクがヒット
```

---

# 原則3: 適切な粒度

### 粒度の調整

| 粒度 | 問題点 | 解決策 |
|---|---|---|
| **細かすぎ** | 文脈が失われる | 関連情報を1チャンクに統合 |
| **大きすぎ** | 検索精度が下がる | トピック単位で分割 |

```
【細かすぎ】
チャンク1: 「返品期限は14日」
チャンク2: 「以内です」
→ 分割しすぎで意味不明

【適切】
チャンク: 「返品期限は14日以内です。
         未開封品に限り、全額返金いたします。」
→ 必要な文脈が含まれている
```

---

# Markdownでのチャンク設計

### 見出しによる自然な分割

```markdown
# 返品ポリシー  ← チャンク1開始

返品に関する基本ルールを説明します。

## 返品対象商品  ← チャンク2開始

以下の商品は返品可能です：
- 未開封品（購入後14日以内）
- 初期不良品（購入後30日以内）

## 返品手続き  ← チャンク3開始

1. カスタマーサポートに連絡
2. 返品番号を取得
3. 着払いで発送
```

> **ポイント**: 見出しレベル（#, ##, ###）でチャンク境界を設計

---

# チャンク設計チェックリスト

### 作成時の確認項目

| チェック項目 | 確認内容 |
|---|---|
| ✅ 自己完結性 | チャンク単体で意味が通じるか |
| ✅ トピック単位 | 1チャンク1トピックになっているか |
| ✅ 適切なサイズ | 200-2000文字の範囲か |
| ✅ 見出しの活用 | 見出しでチャンク境界を明示しているか |
| ✅ 文脈の保持 | 必要な背景情報が含まれているか |

---

<!-- _class: lead -->
# Part 4: 検索精度を高める設計

---

# 検索精度とは

### AIが適切な情報を見つける能力

```
【検索精度が低い場合】
Q: 「年末年始の営業時間は？」
→ 「営業時間」の一般情報を返す
→ 年末年始の特別情報を見逃す

【検索精度が高い場合】
Q: 「年末年始の営業時間は？」
→ 「年末年始営業スケジュール」チャンクを特定
→ 正確な情報を回答
```

---

# 検索精度を高める5つの技法

### 設計時のポイント

```
1. キーワードの明示
   → 検索されやすい用語を含める

2. 同義語・類語の併記
   → 様々な検索パターンに対応

3. 質問形式の見出し
   → ユーザーの質問にマッチしやすい

4. メタデータの付与
   → カテゴリ、タグで分類

5. 階層構造の明確化
   → 見出しレベルで情報を整理
```

---

# 技法1: キーワードの明示

### 検索されやすい用語を含める

```markdown
【悪い例】
# 期限について
購入から2週間以内であれば対応可能です。

【良い例】
# 返品期限・返品可能期間
返品は購入日から14日以内（2週間）に
お手続きください。

→ 「返品」「期限」「期間」「14日」「2週間」
   すべての検索パターンでヒット
```

---

# 技法2: 同義語・類語の併記

### 様々な検索パターンに対応

```markdown
# キャンセル・取り消し・解約について

ご注文のキャンセル（取り消し・解約）は
以下の条件で承ります。

## 無料キャンセル（無料解約）
- 発送前：いつでも可能
- 発送後：配送料のみ負担

## 有料キャンセル（違約金あり）
- 受取後14日経過：手数料10%
```

> **ポイント**: ユーザーが使う可能性のある表現をすべて含める

---

# 技法3: 質問形式の見出し

### ユーザーの質問にマッチしやすい

```markdown
【通常の見出し】
# 返品ポリシー
## 対象商品
## 手続き方法

【質問形式の見出し】
# よくある質問（FAQ）
## 返品はできますか？
## 返品期限は何日ですか？
## 返品送料は誰が負担しますか？
## セール品は返品できますか？
```

> **効果**: 「〜できますか？」という質問に直接マッチ

---

# 技法4: メタデータの付与

### カテゴリ・タグで分類

```markdown
---
category: 返品・交換
tags: [返品, 期限, 手続き, 送料]
updated: 2025-01-01
---

# 返品ポリシー

返品に関する規定です。

## 返品期限
購入日から14日以内
```

> **効果**: 「返品について全部教えて」のような広い質問にも対応

---

# 技法5: 階層構造の明確化

### 見出しレベルで情報を整理

```markdown
# 1. 返品・交換ポリシー

本ポリシーは全商品に適用されます。

## 1.1 返品について

### 1.1.1 返品可能な商品
- 未開封品（14日以内）
- 初期不良品（30日以内）

### 1.1.2 返品不可の商品
- セール品
- 開封済みソフトウェア

## 1.2 交換について
...
```

---

# 検索精度向上のチェックリスト

### 知識ファイル作成時の確認

| チェック項目 | 確認ポイント |
|---|---|
| ✅ キーワード網羅 | 想定される検索語を含んでいるか |
| ✅ 同義語対応 | 別の言い方でもヒットするか |
| ✅ 質問形式 | FAQ形式の見出しがあるか |
| ✅ メタデータ | カテゴリ・タグを付与しているか |
| ✅ 階層構造 | 見出しレベルが適切か |

---

<!-- _class: lead -->
# Part 5: 知識ベース設計の実践

---

# 知識ベース設計の5ステップ

### 設計プロセス

```
Step 1: 情報の棚卸し
        ↓
Step 2: ファイル形式の決定
        ↓
Step 3: 構造設計（チャンク設計）
        ↓
Step 4: 検索最適化
        ↓
Step 5: 検証・改善
```

---

# Step 1: 情報の棚卸し

### 何をKnowledgeに入れるか

| 入れるべき情報 | 入れないべき情報 |
|---|---|
| ✅ 業務マニュアル | ❌ 機密性の高い個人情報 |
| ✅ FAQ・よくある質問 | ❌ 頻繁に変わる情報 |
| ✅ 商品情報・価格表 | ❌ リアルタイム性が必要な情報 |
| ✅ 社内規程・ルール | ❌ 外部API取得が適切な情報 |
| ✅ テンプレート | ❌ 大量の生データ |

---

# 「入れない情報」の代替手段

### 動的情報はActionsやDB参照で対応

| 情報タイプ | Knowledgeに入れない理由 | 代替手段 |
|---|---|---|
| リアルタイム在庫 | 秒単位で変動 | **Actions**（在庫API連携） |
| 最新価格 | キャンペーンで変動 | **DB参照**または都度確認案内 |
| 個人情報 | セキュリティリスク | **社内システム参照**を案内 |
| 外部データ | 更新管理が困難 | **外部API連携**（Actions） |

> **本プログラムの範囲**: Actionsは紹介のみ。まずKnowledgeで構築し、必要に応じてActions検討

---

# Step 2: ファイル形式の決定

### 情報タイプ別判断

```
情報の種類を確認
      │
      ├── 説明・手順 → Markdown (.md)
      │
      ├── Q&A形式 → JSON (.json) or Markdown
      │
      ├── 一覧データ → CSV (.csv)
      │
      └── 既存資料 → PDF変換検討
              │
              ├── 変換コスト低 → Markdownに変換
              └── 変換コスト高 → PDFのまま使用
```

---

# Step 3: 構造設計

### チャンク設計書の作成

| チャンクID | タイトル | 内容概要 | サイズ目安 |
|---|---|---|---|
| KB-001 | 返品ポリシー概要 | 返品の基本ルール | 500文字 |
| KB-002 | 返品対象商品 | 返品可/不可の一覧 | 400文字 |
| KB-003 | 返品手続き | 手続きの手順 | 600文字 |
| KB-004 | 返品送料 | 送料負担のルール | 300文字 |

---

# Step 4: 検索最適化

### 検索を意識した執筆

```markdown
# 返品ポリシー・返品規定（返品について）

本ページでは返品・返金・キャンセルについて
説明します。

## よくある質問

### 返品はできますか？返品可能ですか？
はい、条件を満たせば返品可能です。

### 返品期限は何日ですか？いつまで返品できますか？
購入日から14日以内（2週間以内）です。

### 返品送料は誰が負担しますか？送料無料ですか？
お客様都合の場合はお客様負担です。
初期不良の場合は当社が負担します。
```

---

# Step 5: 検証・改善

### テスト項目

| テスト種別 | 確認内容 |
|---|---|
| **検索テスト** | 想定質問で正しい情報が返るか |
| **網羅性テスト** | 回答できない質問がないか |
| **正確性テスト** | 回答内容が正しいか |
| **幻覚テスト** | 存在しない情報を回答しないか |

---

# 知識ベース設計テンプレート

### EX-15で使用する設計シート

```markdown
# 知識ベース設計書

## 1. 対象GPTs
[GPTs名]

## 2. 必要な知識ファイル一覧
| ファイル名 | 形式 | 内容 | チャンク数 |
|---|---|---|---|

## 3. チャンク設計
| ID | タイトル | 内容 | サイズ |
|---|---|---|---|

## 4. 検索最適化チェック
- [ ] キーワード網羅
- [ ] 同義語対応
- [ ] FAQ形式見出し
```

---

<!-- _class: lead -->
# Part 6: 幻覚対策と品質管理

---

# 知識ベースと幻覚の関係

### Knowledgeがある場合の挙動

```
【理想的な動作】
Q: 「〇〇の価格は？」
Knowledge内に情報あり → 正確に回答
Knowledge内に情報なし → 「情報がありません」と回答

【問題のある動作】
Q: 「〇〇の価格は？」
Knowledge内に情報なし → 推測で回答してしまう（幻覚）
```

> **重要**: 知識ベースがあっても幻覚は発生しうる

---

# 幻覚が発生するパターン

### 知識ベースありでも起きる問題

| パターン | 例 | 原因 |
|---|---|---|
| **情報不足** | 未掲載商品の価格を推測 | Knowledgeに情報がない |
| **古い情報** | 更新前の価格を回答 | Knowledgeが最新でない |
| **類似情報の混同** | 別商品の情報と混同 | チャンク設計が不十分 |
| **過度な推論** | 書いてないことを推測 | 曖昧な質問への対応 |

---

# 幻覚対策の設計

### Instructions + Knowledge の連携

```markdown
# Instructions内の幻覚対策設定

## 例外処理（必須）

### Knowledge内に情報がない場合
以下のように回答してください：

「申し訳ございません。
 ご質問の【〇〇】については、
 現在の知識ベースに情報がございません。
 担当部署にお問い合わせください。」

⚠️ 推測や一般論での回答は禁止
```

---

# Knowledge設計での幻覚対策

### 「ない情報」を明示する

```markdown
# 本知識ベースの範囲

## 含まれる情報
- 商品情報（2025年1月時点）
- 価格情報（定価のみ）
- 返品・交換ポリシー

## 含まれない情報（別途確認が必要）
- 在庫状況（リアルタイム変動）
- 個別見積もり価格
- 法人向け特別条件
- 過去のキャンペーン情報

→ これらについては推測せず、
   担当者への確認を案内してください
```

---

# 品質管理のサイクル

### 継続的な改善

```
┌─────────────────────────────────────────────────────┐
│                 知識ベース運用サイクル               │
└─────────────────────────────────────────────────────┘

  1. 設計・作成
       ↓
  2. テスト・検証
       ↓
  3. 運用開始 ←──────────────────┐
       ↓                          │
  4. ログ分析                     │
     ・回答できなかった質問       │
     ・誤った回答                 │
       ↓                          │
  5. 改善・更新 ──────────────────┘
```

---

# 知識ベース更新のタイミング

### いつ更新すべきか

| トリガー | 対応 |
|---|---|
| 商品・サービスの変更 | 該当情報を即時更新 |
| ポリシー・規程の改定 | 改定内容を反映 |
| ユーザーからのフィードバック | 不足情報を追加 |
| 定期レビュー（月次） | 全体の鮮度確認 |
| 誤回答の発見 | 即座に修正 |

---

<!-- _class: lead -->
# Part 7: メタプロンプトとの連携

---

# メタプロンプトで知識ベースを設計

### Session 8の実習アプローチ

```
【従来のアプローチ】
手動で知識ファイルを作成
→ 時間がかかる、構造がばらつく

【メタプロンプトアプローチ】
GPTs企画書 + Instructions
        ↓ 入力
メタプロンプト
        ↓ 生成
知識ベース設計書 + 知識ファイル
→ 効率的、一貫した構造
```

---

# 入力と出力の関係

### Session 6-8の成果物連鎖

```
Session 6 成果物
├── GPTs企画書
│   ├── 目的・課題
│   ├── 機能概要
│   └── 必要な知識ベース（リスト）← これを詳細化
│
Session 7 成果物
├── Instructions
│   ├── ペルソナ
│   ├── 対話フロー
│   └── 例外処理（幻覚対策含む）← これと連携
│
Session 8 成果物 ← 今ここ
├── 知識ベース設計書
└── 知識ファイル（v1）
```

---

# 知識ベース設計メタプロンプトの構造

### EX-15で作成するもの

```markdown
あなたは知識ベース設計のエキスパートです。

【Phase 1: 情報ヒアリング】
以下を確認してください：
- 対象GPTsの目的
- 必要な知識の種類
- 既存資料の有無

【Phase 2: 設計書生成】
以下を出力してください：
1. ファイル一覧と形式
2. チャンク設計
3. 検索最適化方針

【共通DoD】
...
```

---

# まとめ: 知識ベース設計の原則

### 覚えておくべきポイント

| # | 原則 | 内容 |
|---|---|---|
| 1 | **ファイル形式** | Markdown推奨、用途に応じて選択 |
| 2 | **チャンク設計** | 自己完結・トピック単位・適切なサイズ |
| 3 | **検索最適化** | キーワード・同義語・FAQ形式・メタデータ |
| 4 | **幻覚対策** | 範囲の明示・例外処理との連携 |
| 5 | **継続改善** | テスト・ログ分析・更新サイクル |

---

# 次の動画（8-2）の予告

### メタプロンプトで知識ベース生成

8-2では以下を学びます：

- 知識ベース設計メタプロンプトの作成（EX-15）
- メタプロンプトで知識ファイルを生成（EX-16）
- 生成した知識ファイルの評価・改善

---

<!-- _class: lead -->
# 実習: EX-15
## 知識ベース設計メタプロンプト

詳細はテンプレート集を参照してください

---

# EX-15の概要

### 課題内容

**目的**: Session 6-7の成果物を入力として、知識ベースを設計するメタプロンプトを作成

### 提出物

1. 知識ベース設計メタプロンプト（変数化）
2. 変数定義シート
3. 動作確認ログ
4. 振り返り

---

# EX-15のポイント

### 成功のコツ

| ポイント | 説明 |
|---|---|
| **入力の明確化** | GPTs企画書・Instructionsを参照 |
| **設計観点の網羅** | ファイル形式・チャンク・検索最適化 |
| **幻覚対策の組込** | 範囲の明示を含める |
| **DoD固定** | 品質基準は変数化しない |

---

# Session 8-1 まとめ

### 本動画で学んだこと

| トピック | 内容 |
|---|---|
| 知識ベースとは | RAGの仕組み、専門知識の付与 |
| ファイル形式 | Markdown推奨、用途別選択 |
| チャンク設計 | 自己完結・トピック単位・適切サイズ |
| 検索精度向上 | キーワード・同義語・FAQ形式・メタデータ |
| 幻覚対策 | 範囲明示・Instructions連携 |

---

# 次回予告

### Session 8-2: メタプロンプトで知識ベース生成

- EX-15メタプロンプトの実行
- EX-16知識ファイルの生成
- 生成物の評価と改善

---

<!-- _class: lead -->
# お疲れさまでした！

Session 8-2へ続く
