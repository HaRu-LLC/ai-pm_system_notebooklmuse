---
marp: true
theme: default
paginate: true
header: "AIポリテラシー育成プログラム"
footer: "Session 7-1: Instructions設計の原則（理論編）"
style: |
  section {
    font-family: 'Noto Sans JP', 'Hiragino Sans', sans-serif;
  }
  h1 {
    color: #2563eb;
  }
  h2 {
    color: #1e40af;
  }
  .highlight {
    background: linear-gradient(transparent 60%, #fef08a 60%);
  }
  .point {
    background-color: #dbeafe;
    padding: 1rem;
    border-radius: 8px;
  }
  table {
    font-size: 0.9em;
  }
---

<!-- _class: lead -->
# Session 7-1
## Instructions設計の原則（理論編）

**AIポリテラシー育成プログラム**
Week 7 / Phase 3

---

# Session 7 全体構成

| パート | 内容 | 実習 |
|---|---|---|
| **7-1（本動画）** | Instructions設計の原則（理論） | EX-13 |
| 7-2 | メタプロンプトでInstructions生成（実践） | EX-14 |

---

# 前回の振り返り（Session 6）

### 学んだこと

| Session | テーマ | 成果物 |
|---|---|---|
| 6-1 | GPTsの全体像 | GPTsの3要素の理解 |
| 6-2 | メタプロンプトでGPTs企画 | **GPTs企画書（EX-12）** |

### 今日の位置づけ

```
Session 6: GPTs企画書
         ↓ 入力
Session 7: Instructions生成 ← 今ここ
         ↓ 入力
Session 8: 知識ベース構築
```

---

# 本動画の学習目標

この動画を終えると、以下ができるようになります：

✅ Instructionsの5つの構成要素を理解できる

✅ 優先順位と例外処理の設計原則を理解できる

✅ 企画書からInstructionsへの変換ロジックを説明できる

---

<!-- _class: lead -->
# Part 1: Instructionsとは

---

# Instructionsの位置づけ

### GPTsの3要素

| 要素 | 役割 | Session |
|---|---|---|
| **Instructions** | GPTsの動作指示（最重要） | **Session 7** ← 今ここ |
| Knowledge | 専門知識の追加 | Session 8 |
| Actions | 外部システム連携 | 紹介のみ |

> **ポイント**: Instructionsは「GPTsの頭脳」。ここがすべての動作を決める

---

# Instructionsとは何か

### システムプロンプトの進化形

```
【通常のプロンプト】
ユーザーが毎回入力する

【Instructions】
GPTsに事前に設定される「常に有効な指示」
→ ユーザーは入力せずに恩恵を受ける
```

### 例えるなら

| 通常のプロンプト | Instructions |
|---|---|
| 毎回レシピを渡す | シェフに得意料理を覚えさせる |
| 毎回マニュアルを見せる | 専門家として訓練済み |

---

# なぜInstructionsが重要か

### ユーザー体験を決める

```
【Instructionsなし】
ユーザー: 「提案書を作って」
GPTs: 「どんな提案書ですか？形式は？」
→ 毎回ゼロから説明が必要

【Instructionsあり】
ユーザー: 「提案書を作って」
GPTs: 「了解です。御社のテンプレートに沿って、
      ヒアリングを始めます。まず対象顧客は...」
→ 企業の文脈を理解した専門家として対応
```

---

# Instructionsの効果

### Before/After比較

| 観点 | Instructionsなし | Instructionsあり |
|---|---|---|
| **初回入力** | 長い説明が必要 | 「〇〇して」でOK |
| **出力品質** | 一般的な回答 | 業務に最適化 |
| **一貫性** | 毎回バラバラ | 常に同じ水準 |
| **ユーザー負担** | 高い | 低い |

> **ROI**: 一度設計すれば、何百回も再利用される

---

<!-- _class: lead -->
# Part 2: Instructionsの5構成要素

---

# Instructions構造の全体像

### 5つの構成要素

```
1. ペルソナ定義      → 誰として振る舞うか
2. 基本動作指示      → 何をどう処理するか
3. 対話フロー        → どんな順序で対話するか
4. 禁止事項・注意点  → やってはいけないこと
5. 出力形式ルール    → どんな形式で出力するか
```

> これら5要素がすべて揃って、初めて安定したGPTsになる

---

# 要素1: ペルソナ定義

### GPTsの「人格」を設定

```markdown
# ペルソナ
あなたは株式会社〇〇の営業支援AIです。
10年以上の法人営業経験を持つベテラン営業マネージャーとして、
提案書作成をサポートします。

トーン: フレンドリーだがプロフェッショナル
```

### 設計ポイント

| 項目 | 内容 |
|---|---|
| **専門性** | どの分野の専門家か |
| **経験レベル** | ベテラン/中堅/入門者 |
| **トーン** | フォーマル/カジュアル |

---

# ペルソナ設計のパターン

### 業務別ペルソナ例

| 業務 | ペルソナ例 |
|---|---|
| 提案書作成 | ベテラン営業マネージャー |
| 議事録作成 | プロジェクトコーディネーター |
| FAQ対応 | カスタマーサポートリーダー |
| 企画立案 | 経営企画コンサルタント |
| 文書校正 | 編集プロフェッショナル |

> **ポイント**: ペルソナは「専門性」と「トーン」の2軸で決める

---

# 要素2: 基本動作指示

### GPTsの「仕事内容」を定義

```markdown
# 基本動作
1. ユーザーから提案書の要件をヒアリングする
2. 要件に基づいて提案書のドラフトを作成する
3. フィードバックを受けて改善する
4. 最終版を出力する
```

### 設計ポイント

| 項目 | 内容 |
|---|---|
| **主タスク** | このGPTsが行う中心的な作業 |
| **入力** | ユーザーから受け取るもの |
| **出力** | ユーザーに提供するもの |

---

# 基本動作の記述パターン

### 動詞で始める

```markdown
# 推奨パターン
- ヒアリングする
- 分析する
- 生成する
- 確認する
- 改善する

# 避けるパターン
- ヒアリングを行う可能性があります
- 分析することもあります
→ 曖昧な表現はNG
```

> **原則**: 明確な動詞で、具体的な動作を指示

---

# 要素3: 対話フロー

### GPTsの「進行シナリオ」を設計

```markdown
# 対話フロー

## Phase 1: 要件ヒアリング
以下のサイクルを繰り返す：
1. まとめ: ユーザーの発言を整理
2. 提案: 提案書の方向性を提示
3. 質問: 不明点を確認

ユーザーが「OK」と言ったらPhase 2へ

## Phase 2: ドラフト作成
- 要件に基づいてドラフトを生成
- 改善ループで完成度を高める
```

---

# 対話フロー設計のパターン

### 3つの基本パターン

| パターン | 構造 | 適用場面 |
|---|---|---|
| **直線型** | Step1→Step2→完了 | シンプルなタスク |
| **2Phase型** | ヒアリング→生成 | 文書作成系 |
| **ループ型** | 改善を繰り返す | 品質重視の作業 |

### 本プログラムの推奨

```
2Phase型 + ループ型の組み合わせ
Phase 1: ヒアリング（ループで確認）
Phase 2: 生成（ループで改善）
```

---

# 要素4: 禁止事項・注意点

### GPTsの「やってはいけないこと」を明示

```markdown
# 禁止事項
- 競合他社の製品を推薦しない
- 価格情報を勝手に記載しない
- 法的なアドバイスをしない
- 機密情報を要求しない

# 注意事項
- 数値データは必ず出典を確認するよう促す
- 最終判断はユーザーに委ねる
```

---

# 禁止事項設計のチェックリスト

### 5つの観点

| 観点 | 確認事項 | 例 |
|---|---|---|
| **競合** | 競合製品への言及 | 「他社製品は推薦しない」 |
| **価格** | 価格の自動記載 | 「最新価格は営業に確認を促す」 |
| **法務** | 法的助言の範囲 | 「契約内容は法務確認を推奨」 |
| **機密** | 機密情報の取り扱い | 「顧客名は入力しないよう案内」 |
| **権限** | 決定権限の範囲 | 「最終判断はユーザーに委ねる」 |

---

# 要素5: 出力形式ルール

### GPTsの「アウトプット仕様」を定義

```markdown
# 出力形式

## 提案書フォーマット
1. タイトル
2. 課題の整理（3項目以内）
3. 提案内容（5項目以内）
4. 期待効果（定量・定性）
5. 次のステップ

## 文体ルール
- です・ます調
- 1文は60文字以内
- 箇条書きを活用
```

---

# 出力形式の設計パターン

### 業務別出力形式例

| 業務 | 形式 | 特徴 |
|---|---|---|
| 提案書 | Markdown＋見出し | 構造化された文書 |
| 議事録 | 表＋箇条書き | 一覧性重視 |
| メール | テキスト | コピペで使える |
| FAQ | Q&A形式 | 検索しやすい |
| レポート | セクション分け | 章立て構成 |

---

<!-- _class: lead -->
# Part 3: 優先順位と例外処理

---

# なぜ優先順位が必要か

### 矛盾する指示への対応

```
【問題】
指示A: 「すべての質問に詳しく答えてください」
指示B: 「機密情報には回答しないでください」

ユーザー: 「御社の来年の売上予測を教えて」
→ どちらの指示を優先すべき？
```

### 解決策: 優先順位の明示

```markdown
# 優先順位
1. セキュリティ・機密保護
2. 法令・コンプライアンス
3. ユーザー体験
4. 効率性
```

---

# 優先順位の設計パターン

### 推奨する優先順位

| 順位 | カテゴリ | 例 |
|---|---|---|
| 1 | **安全性** | 機密情報保護、法令遵守 |
| 2 | **正確性** | 事実確認、誤情報防止 |
| 3 | **有用性** | ユーザーの目的達成 |
| 4 | **効率性** | 短い応答、簡潔さ |

> **原則**: 安全性 > 正確性 > 有用性 > 効率性

---

# 例外処理の設計

### 想定外の入力への対応

```markdown
# 例外処理

## 範囲外の質問
「申し訳ありませんが、私は提案書作成の支援に
特化しています。〇〇については担当部門に
お問い合わせください。」

## 機密情報の入力検知
「入力された内容に機密情報が含まれている
可能性があります。確認の上、再度入力してください。」
```

---

# 例外処理のチェックリスト

### 6つの想定シナリオ

| シナリオ | 対応例 |
|---|---|
| **範囲外の質問** | 丁寧に専門外であることを伝え、適切な窓口を案内 |
| **機密情報の入力** | 警告を表示し、入力の再確認を促す |
| **不明確な指示** | 確認質問で明確化を依頼 |
| **過度な要求** | 現実的な範囲を提案 |
| **エラー発生時** | 謝罪と代替案の提示 |
| **根拠不明の情報（幻覚対策）** | 「Knowledge内に該当情報がないため確認が必要です」と回答 |

> **重要**: 幻覚対策は業務GPTsで必須。推測で回答せず、確認を促す

---

<!-- _class: lead -->
# Part 4: 企画書からInstructionsへ

---

# メタプロンプト連鎖の復習

### Session 6で作った企画書を活用

```
Session 6: GPTs企画書（EX-12）
├── GPTs名
├── 目的・解決する課題
├── 機能概要
├── 想定される対話フロー
├── 必要な知識ベース
└── 成功指標
         ↓
Session 7: この企画書を入力として
         Instructions を生成する
```

---

# 変換マッピング

### 企画書 → Instructionsの対応関係

| 企画書の項目 | Instructions要素 |
|---|---|
| GPTs名 | （タイトルとして使用） |
| 目的・解決する課題 | ペルソナ定義、基本動作指示 |
| 機能概要 | 基本動作指示 |
| 想定される対話フロー | 対話フロー |
| 必要な知識ベース | （Session 8で使用） |
| 成功指標 | 出力形式ルール、禁止事項 |

---

# 変換の具体例

### 企画書の「目的・課題」から

```markdown
【企画書】
目的: 提案書作成時間を50%削減
課題: 担当者によって品質にばらつき

↓ 変換

【Instructions - ペルソナ定義】
あなたは提案書作成のプロフェッショナルです。
担当者の経験に関わらず、一定品質の提案書を
効率的に作成できるよう支援します。
```

---

# 変換の具体例（続き）

### 企画書の「機能概要」から

```markdown
【企画書】
機能概要:
1. 顧客情報からニーズを分析
2. テンプレートに沿ってドラフト生成
3. フィードバックを反映して改善

↓ 変換

【Instructions - 基本動作指示】
# 基本動作
1. ユーザーから顧客情報を受け取り、ニーズを分析する
2. 標準テンプレートに沿ってドラフトを生成する
3. ユーザーのフィードバックを受けて改善する
```

---

# 変換の具体例（続き）

### 企画書の「対話フロー」から

```markdown
【企画書】
想定される対話フロー:
- 顧客情報の入力
- ニーズ確認の質問
- ドラフト提示
- 修正依頼対応

↓ 変換

【Instructions - 対話フロー】
## Phase 1: 要件ヒアリング
1. 顧客情報を受け取る
2. ニーズを確認する質問を行う
3. ユーザーが「OK」と言ったらPhase 2へ

## Phase 2: ドラフト作成
1. 確定した要件でドラフトを生成
2. 修正依頼があれば対応
```

---

# なぜ手書きではなくメタプロンプトか

### メタプロンプトで生成するメリット

| 観点 | 手書き | メタプロンプト生成 |
|---|---|---|
| **時間** | 30-60分 | 5-10分 |
| **一貫性** | 人によるばらつき | 構造化された出力 |
| **網羅性** | 項目漏れのリスク | 7要素を必ずカバー |
| **改善** | 全体を書き直し | 変数調整で再生成 |

---

# メタプロンプトの構造

### Instructions生成用メタプロンプト

```markdown
あなたはGPTs設計の専門家です。
以下の企画書に基づき、GPTs用Instructionsを生成してください。

【GPTs企画書】
{Session 6で生成した企画書}

【出力形式】
1. ペルソナ定義
2. 基本動作指示
3. 対話フロー（Phase 1/Phase 2）
4. 優先順位（必須）
5. 禁止事項・注意点
6. 例外処理（必須・幻覚対策含む）
7. 出力形式ルール

【共通DoD（品質基準）】
...（省略）...
```

---

<!-- _class: lead -->
# Part 5: まとめと課題

---

# 7-1 まとめ

### Instructionsの7構成要素

| # | 要素 | 役割 |
|---|---|---|
| 1 | ペルソナ定義 | 誰として振る舞うか |
| 2 | 基本動作指示 | 何をどう処理するか |
| 3 | 対話フロー | どんな順序で対話するか |
| 4 | **優先順位** | 矛盾する指示の優先度 |
| 5 | 禁止事項・注意点 | やってはいけないこと |
| 6 | **例外処理** | 想定外入力への対応（幻覚対策含む） |
| 7 | 出力形式ルール | どんな形式で出力するか |

---

# 設計原則まとめ

### 3つの原則

```
1. 優先順位を明示する
   安全性 > 正確性 > 有用性 > 効率性

2. 例外処理を設計する
   想定外の入力にも適切に対応

3. 企画書から変換する
   EX-12の成果物を入力として活用
```

---

<!-- _class: lead -->
# 必須課題 EX-13

---

# EX-13: Instructions生成メタプロンプト作成

### 課題内容

Session 6で作成した企画書（EX-12）を入力として、
Instructions を生成するメタプロンプトを作成してください。

### 提出物

1. Instructions生成メタプロンプト（変数化されたもの）
2. 変数定義シート
3. 変換マッピング表（企画書項目→Instructions要素）
4. 振り返り（なぜ手書きではなくメタプロンプトを使うのか）

---

# EX-13 評価基準

### チェックポイント

| 観点 | 基準 |
|---|---|
| **構造** | 7構成要素をすべてカバーしているか |
| **変数化** | 企画書を変数として受け取れるか |
| **変換ロジック** | 企画書→Instructionsの対応が明確か |
| **DoD** | 品質基準が含まれているか |
| **ガードレール** | 注意事項が含まれているか |

---

# 次回予告

### Session 7-2: メタプロンプトでInstructions生成（実践編）

- EX-13で作成したメタプロンプトを実行
- 実際にInstructionsを生成してみる
- 生成結果の評価と改善
- EX-14: GPTs Instructions v1（AI生成）

---

<!-- _class: lead -->
# お疲れ様でした！

---
