# 開発ドキュメント整備 TODO

- プロジェクト: AIポリテラシー育成プログラム Ver.2
- 作成日: 2026-01-05
- 最終更新: 2026-01-05
- 目的: 一流PMとしての開発ドキュメント一式を完備

---

## 進捗サマリー

| カテゴリ | 完了 | 未完了 | 進捗率 |
|---|:---:|:---:|:---:|
| Step 0: 既存ドキュメント更新 | 4 | 0 | 100% |
| Step 1-4: Tier 1新規作成 | 4 | 0 | 100% |
| Step 5: Tier 2-3新規作成 | 8 | 0 | 100% |
| **合計** | **16** | **0** | **100%** |

---

## Step 0: 既存ドキュメント更新（完了）

正本（curriculum_design.md）との整合性を確保する更新。

### 0-1. app_spec.md 更新 ✅
- [x] バージョン更新: v1.0 → v1.1
- [x] 動画時間の修正: 各パート約20分 → 約10分
- [x] 課題分類の明確化: 必須12課題 + 任意12課題
- [x] 修了要件セクション追加: 動画視聴率100%、必須課題100%、最終発表
- [x] ダッシュボード表示の修正: 視聴完了6/12、必須課題8/12
- [x] Session 0の記載: 1本（約10分）のオリエンテーション

### 0-2. api_spec.md 更新 ✅
- [x] バージョン更新: v1.0 → v1.1
- [x] 動画構造の更新: intro/main1/main2/summary → part_1/part_2
- [x] exercisesエンドポイント: exercise_code, is_requiredフラグ追加
- [x] 修了判定API追加: /completion-status
- [x] ダッシュボードレスポンスに修了要件情報追加
- [x] 変更履歴追加

### 0-3. db_schema.md 更新 ✅
- [x] バージョン更新: v1.0 → v1.1
- [x] sessions説明: 13セッション → 12セッション
- [x] duration_minutes: 40分 → 20分
- [x] ビューのセッション数更新: 13 → 12
- [x] 初期データ更新: 12セッション構成に変更
- [x] 変更履歴追加

### 0-4. test_plan.md 更新 ✅
- [x] バージョン更新: v2.0 → v2.1
- [x] 動画配信テスト: 2パート制に対応
- [x] 課題管理テスト: 必須/任意フィルタ、24課題構成
- [x] 修了要件管理テスト追加: 新規セクション2.11
- [x] セクション番号の整理
- [x] 変更履歴追加

---

## Step 1: development_roadmap.md 作成（完了） ✅

開発スプリント計画・マイルストーン定義。

- [x] プロジェクト概要、技術スタック
- [x] 6スプリント計画（各2週間）
- [x] マイルストーン定義（M1-M6）
- [x] リスク管理
- [x] 品質基準
- [x] リリース判定基準

---

## Step 2: gemini_integration_spec.md 作成（完了） ✅

Gemini API統合の詳細仕様。

- [x] システム構成図
- [x] モデル選択: gemini-1.5-flash
- [x] 評価プロンプトテンプレート（Phase 1-4別）
- [x] Structured Output response_schema定義
- [x] TypeScript実装例
- [x] エラーハンドリング・リトライ戦略
- [x] コスト管理
- [x] モデル更新時の再校正
- [x] セキュリティ考慮事項

---

## Step 3: auth_design.md 作成（完了） ✅

認証・認可の詳細設計。

- [x] 認証方式（Supabase Auth）
- [x] ロール定義（learner/instructor/admin）
- [x] 権限マトリックス
- [x] JWT設計・トークンライフサイクル
- [x] 認証フロー（招待・登録・ログイン・パスワードリセット）
- [x] セッション管理
- [x] RLS実装（users/submissions/evaluations/viewing_logs）
- [x] アカウントロック
- [x] セキュリティ考慮事項
- [x] 初回ログイン・規約同意フロー

---

## Step 4: infrastructure_spec.md 作成（完了） ✅

インフラ・デプロイ設計。

- [x] インフラ構成図
- [x] サービス選定
- [x] 環境構成（development/staging/production）
- [x] 環境変数管理
- [x] CI/CDパイプライン（GitHub Actions）
- [x] Vercel設定
- [x] ブランチ戦略
- [x] データベース管理（マイグレーション・バックアップ）
- [x] 監視・ログ（Vercel Analytics/Sentry）
- [x] セキュリティ対策・ヘッダー
- [x] スケーリング計画
- [x] 障害対応・ロールバック
- [x] コスト試算

---

## Step 5: Tier 2-3 残りドキュメント作成（完了） ✅

### 5-1. email_templates.md（P1） ✅
- [x] 招待メール
- [x] 評価完了通知
- [x] リマインダー（視聴/課題提出）
- [x] パスワードリセット
- [x] 修了証発行通知
- [x] 週次進捗サマリー（講師・管理者向け）
- [x] Resend統合・バッチ処理実装例

### 5-2. monitoring_spec.md（P1） ✅
- [x] APM設定（Vercel Analytics）
- [x] アラート条件（Sentry連携）
- [x] ダッシュボード設計（運用/エラー/ビジネス）
- [x] インシデント対応フロー
- [x] SLA目標

### 5-3. subsidy_compliance.md（P1） ✅
- [x] 厚労省要件マッピング
- [x] 視聴ログ証跡フォーマット
- [x] 学習時間計算ロジック
- [x] データエクスポート仕様（API一覧）
- [x] 監査対応チェックリスト

### 5-4. user_guide_learner.md（P2） ✅
- [x] ログイン・初期設定
- [x] ダッシュボードの見方
- [x] 動画視聴の進め方
- [x] 課題提出方法
- [x] 評価結果の見方
- [x] ミーティングへの参加
- [x] 最終発表について
- [x] よくある質問（FAQ）

### 5-5. user_guide_instructor.md（P2） ✅
- [x] 管理画面の使い方
- [x] 受講者進捗の確認
- [x] 手動評価の方法
- [x] レポート出力
- [x] ミーティング運営
- [x] フォローアップ対応
- [x] 最終発表の運営

### 5-6. user_guide_admin.md（P2） ✅
- [x] ユーザー管理（招待・編集・削除）
- [x] コホート管理
- [x] セッション・課題管理
- [x] 最終発表参加の記録
- [x] 修了証発行
- [x] 助成金レポート出力
- [x] システム設定
- [x] 監査ログ

### 5-7. runbook.md（P2） ✅
- [x] 日次運用タスク
- [x] 障害対応手順（P1-P4）
- [x] エスカレーションフロー
- [x] 緊急連絡先
- [x] 週次・月次運用タスク
- [x] 定期メンテナンス
- [x] 障害報告書テンプレート

### 5-8. security_review.md（P2） ✅
- [x] OWASP Top 10対策状況
- [x] 認証・認可レビュー
- [x] データ保護レビュー
- [x] APIセキュリティ
- [x] インフラセキュリティ
- [x] 発見された脆弱性と対策
- [x] ペネトレーションテスト計画

---

## 完成ドキュメント一覧

| # | ドキュメント | バージョン | 作成日 | ステータス |
|---|---|---|---|---|
| 1 | app_spec.md | v1.2 | 2026-01-05 | ✅ 更新完了 |
| 2 | api_spec.md | v1.3 | 2026-01-05 | ✅ 更新完了 |
| 3 | db_schema.md | v1.3 | 2026-01-05 | ✅ 更新完了 |
| 4 | test_plan.md | v2.2 | 2026-01-05 | ✅ 更新完了 |
| 5 | development_roadmap.md | v1.0 | 2026-01-05 | ✅ 新規作成 |
| 6 | gemini_integration_spec.md | v1.0 | 2026-01-05 | ✅ 新規作成 |
| 7 | auth_design.md | v1.0 | 2026-01-05 | ✅ 新規作成 |
| 8 | infrastructure_spec.md | v1.0 | 2026-01-05 | ✅ 新規作成 |
| 9 | email_templates.md | v1.0 | 2026-01-05 | ✅ 新規作成 |
| 10 | monitoring_spec.md | v1.0 | 2026-01-05 | ✅ 新規作成 |
| 11 | subsidy_compliance.md | v1.0 | 2026-01-05 | ✅ 新規作成 |
| 12 | user_guide_learner.md | v1.0 | 2026-01-05 | ✅ 新規作成 |
| 13 | user_guide_instructor.md | v1.0 | 2026-01-05 | ✅ 新規作成 |
| 14 | user_guide_admin.md | v1.0 | 2026-01-05 | ✅ 新規作成 |
| 15 | runbook.md | v1.0 | 2026-01-05 | ✅ 新規作成 |
| 16 | security_review.md | v1.0 | 2026-01-05 | ✅ 新規作成 |

---

## 参照ドキュメント（正本）

| ドキュメント | パス | 内容 |
|---|---|---|
| カリキュラム設計 | `../docs/curriculum_design.md` | 2パート制、課題分類、修了要件 |
| 要件定義書 | `../docs/requirements.md` | 機能/非機能要件 |
| プロジェクト憲章 | `../docs/OverallProjectCharter.md` | 目的、スコープ、スケジュール |
| 評価ルーブリック | `../exercises/Chapter1-4_Rubrics.md` | 各課題の評価基準 |

---

## 更新履歴

| 日付 | 更新内容 |
|---|---|
| 2026-01-05 | 初版作成 |
| 2026-01-05 | Step 0-4完了、Tier 1ドキュメント全完成 |
| 2026-01-05 | Step 5完了、Tier 2-3ドキュメント全完成（全16ドキュメント完備）|
