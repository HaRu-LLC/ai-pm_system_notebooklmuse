# 要件定義書（開発向け）

- プロジェクト名: AIポリテラシー育成プログラム Ver.2
- 作成日: 2026-01-05
- 版: v1.3
- 関連文書: app_spec.md, api_spec.md, db_schema.md, ../docs/requirements.md, ../docs/curriculum_design.md

---

## 1. 目的と範囲

### 1.1 ドキュメントの目的

本書は、AIポリテラシー育成プログラム Ver.2の専用Webアプリケーション開発に必要な要件を、開発チームが実装可能な形式で定義する。

### 1.2 システム概要

| 項目 | 内容 |
|---|---|
| システム名 | AIポリテラシー育成プログラム 受講者ポータル |
| 目的 | 生成AIを活用できる人材の育成を支援するeラーニングプラットフォーム |
| 主要機能 | 動画視聴管理、課題提出、LLM自動評価、進捗ダッシュボード |
| 想定ユーザー | 受講者（企業研修/個人）、講師、管理者 |
| 利用期間 | 13週間/期 |

### 1.3 スコープ

**スコープ内**:
- 認証・アカウント管理（招待制）
- 動画視聴チェックイン管理
- 課題提出・下書き保存
- Gemini APIによる自動評価
- 進捗ダッシュボード（受講者/講師/管理者）
- 助成金申請用エビデンスエクスポート
- メール通知

**スコープ外**:
- 動画配信（YouTube/Vimeo限定公開を利用）
- 決済機能（Stripe連携は別システム）
- グループミーティング（Zoomを利用）
- GPTs構築環境（ChatGPTを利用）

---

## 2. ステークホルダー

### 2.1 ステークホルダー一覧

| 役割 | 代表者 | 関心事項 | 関与度 |
|---|---|---|---|
| プロジェクトスポンサー | - | 事業収益、ブランド価値 | 低 |
| プログラムマネージャー | AI-PgM | 品質、スケジュール、スコープ | 高 |
| 講師 | 井戸 | 受講者体験、評価品質 | 高 |
| 受講者（企業） | - | 学習効果、修了証取得、助成金申請 | 高 |
| 受講者（個人） | - | 学習効果、スキル習得 | 高 |
| 開発チーム | - | 技術要件、実装可能性 | 高 |
| 運用チーム | - | 保守性、監視、障害対応 | 中 |

### 2.2 ユーザーロール

| ロール | 説明 | 人数想定 |
|---|---|---|
| learner | 受講者。自分の進捗管理、課題提出 | 〜100名/期 |
| instructor | 講師。全受講者の進捗確認、手動評価 | 1〜2名 |
| admin | 管理者。ユーザー管理、システム設定、レポート出力 | 1〜2名 |

---

## 3. 機能要件

### 3.1 機能要件一覧

| ID | 機能名 | 優先度 | 説明 | 受け入れ基準 |
|---|---|---|---|---|
| FR-001 | ログイン | P0 | メール+パスワード認証 | 登録済みユーザーがログイン可能 |
| FR-002 | 招待登録 | P0 | 招待リンク経由でパスワード設定 | 48時間有効なマジックリンクでアカウント有効化 |
| FR-003 | パスワードリセット | P0 | メールでリセットリンク送信 | 24時間有効なリセットリンク発行 |
| FR-004 | ダッシュボード（受講者） | P0 | 進捗率、次のアクション、評価結果表示 | 進捗率がリアルタイム更新 |
| FR-005 | セッション一覧 | P0 | 全12セッションの視聴状況表示 | Phase別グルーピング表示 |
| FR-006 | セッション詳細 | P0 | 動画リンク、課題一覧表示 | 2パート（理論/実践）で表示 |
| FR-007 | 視聴チェックイン | P0 | セッション単位で視聴完了を記録 | DBに日時・IPが記録される |
| FR-008 | 課題一覧・詳細 | P0 | 課題説明、評価観点表示 | 必須/任意の区別表示 |
| FR-009 | 課題提出 | P0 | テキスト/ファイル/URLで提出 | 2000文字以内、10MB以下のファイル、URL形式 |
| FR-010 | 下書き保存 | P1 | 提出前の一時保存 | 再ログイン後も復元可能 |
| FR-011 | 自動評価（Gemini API） | P0 | 提出後に自動評価実行 | 10分以内に評価完了 |
| FR-012 | 評価結果表示 | P0 | スコア、内訳、フィードバック表示 | 4軸×25点の内訳表示 |
| FR-013 | 再提出 | P1 | 既存提出を上書き更新 | 旧評価は無効化、新規評価実行 |
| FR-014 | 提出履歴 | P1 | 全提出の一覧表示 | 評価状態でフィルタ可能 |
| FR-015 | ダッシュボード（管理者） | P0 | 全体統計、アラート、進捗一覧 | 企業別フィルタ可能 |
| FR-016 | 受講者一覧・詳細 | P0 | 進捗、提出状況、評価履歴 | 検索・ソート可能 |
| FR-017 | 手動評価 | P0 | APIエラー時のフォールバック評価 | 講師がスコア・コメント入力可能 |
| FR-018 | 受講者招待 | P0 | メールで招待リンク送信 | 一括招待（CSV）対応 |
| FR-019 | 最終発表参加記録 | P1 | 修了要件の参加記録 | 講師/管理者のみ記録可能 |
| FR-020 | 修了判定 | P1 | 修了要件達成状況表示 | 視聴100%、必須課題100%、最終発表参加 |
| FR-021 | 助成金レポート出力 | P1 | 視聴ログ、提出記録CSV出力 | 企業別・期間別フィルタ可能 |
| FR-022 | メール通知 | P1 | 評価完了、リマインダー送信 | 配信停止設定可能 |
| FR-023 | 監査ログ | P1 | 重要操作の記録 | 7年保持 |
| FR-024 | 利用規約同意 | P0 | 初回ログイン時に規約表示・同意記録 | 同意日時・IPアドレスをDB保存 |
| FR-025 | コホート管理 | P0 | 期別・企業別の受講者グループ管理 | コホート作成・編集・受講者割当可能 |

### 3.2 機能詳細

#### FR-001: ログイン

**概要**: メールアドレスとパスワードによる認証

**入力**:
| 項目 | 型 | 必須 | バリデーション |
|---|---|---|---|
| email | string | ✓ | 有効なメール形式 |
| password | string | ✓ | 8文字以上 |

**処理**:
1. メールアドレスでユーザー検索
2. パスワードハッシュ照合
3. 失敗5回でアカウントロック（30分）
4. 成功時JWT発行（7日有効）

**出力**:
- 成功: access_token, refresh_token, user情報
- 失敗: エラーメッセージ

**関連API**: `POST /api/v1/auth/login`

---

#### FR-002: 招待登録

**概要**: 管理者が発行した招待リンクからアカウントを有効化

**フロー**:
1. 管理者が受講者情報を登録し招待メール送信
2. 受講者がメール内リンクをクリック（48時間有効）
3. パスワード設定画面でパスワードを設定
4. 利用規約に同意
5. アカウント有効化、自動ログイン

**入力**:
| 項目 | 型 | 必須 | バリデーション |
|---|---|---|---|
| token | string | ✓ | 有効な招待トークン |
| password | string | ✓ | 8文字以上 |
| password_confirmation | string | ✓ | passwordと一致 |

**関連API**: `POST /api/v1/auth/register`

---

#### FR-007: 視聴チェックイン

**概要**: 動画視聴完了をセッション単位で記録（助成金証跡）

**処理**:
1. 受講者が「視聴完了」ボタンをクリック
2. セッションID、ユーザーID、日時、IPアドレスを記録
3. 同一セッションへの重複チェックイン防止（UNIQUE制約）

**記録項目**:
| 項目 | 説明 |
|---|---|
| user_id | 受講者ID |
| session_id | セッションID（1〜12） |
| checked_in_at | チェックイン日時 |
| ip_address | クライアントIP |

**関連API**: `POST /api/v1/viewing-logs`
**関連テーブル**: `viewing_logs`

---

#### FR-009: 課題提出

**概要**: テキスト、ファイル、またはURLで課題を提出

**入力**:
| 項目 | 型 | 必須 | バリデーション |
|---|---|---|---|
| exercise_id | uuid | ✓ | 有効な課題ID |
| content | string | △ | 10〜2000文字（テキスト提出時） |
| file | file | △ | 10MB以下、PDF/PNG/JPG/TXT |
| url | string | △ | 有効なURL形式（GPTs共有リンク等） |

※ content / file / url のいずれか1つ以上必須

**提出形式別ユースケース**:
| 形式 | 用途 | 例 |
|---|---|---|
| テキスト | プロンプト、分析結果 | EX-01〜22 |
| ファイル | スクリーンショット、PDF | 任意 |
| URL | GPTs共有リンク | EX-24（GPTs公開URL） |

**処理**:
1. バリデーション実行
2. ファイルがあればストレージにアップロード
3. submissionsテーブルに保存（status: submitted）
4. 非同期でGemini API評価をキュー登録
5. 確認メッセージ返却

**再提出時**:
- 同一ユーザー×同一課題の既存レコードを上書き更新
- 既存評価は`is_active=false`に更新
- 新規評価を実行

**関連API**: `POST /api/v1/submissions`
**関連テーブル**: `submissions`, `evaluations`

---

#### FR-011: 自動評価（Gemini API）

**概要**: 提出物をGemini APIで自動評価

**処理フロー**:
```
[提出] → [キュー登録] → [Gemini API呼び出し]
                              ↓
                        [JSON解析]
                              ↓
                   成功 → [評価保存] → [メール通知]
                   失敗 → [リトライ（最大3回）]
                              ↓
                        3回失敗 → [手動評価キュー]
```

**評価スキーマ（4軸×25点）**:
| 軸 | 最大点 | 評価基準 |
|---|---|---|
| 基本要素（elements） | 25 | 必須要素の充足度 |
| 実用性（practicality） | 25 | 業務での活用可能性 |
| 創意工夫（creativity） | 25 | 独自の視点・アレンジ |
| 完成度（completeness） | 25 | 全体の仕上がり・論理性 |

**出力フォーマット**:
```json
{
  "score": 85,
  "breakdown": {
    "elements": 22,
    "practicality": 21,
    "creativity": 20,
    "completeness": 22
  },
  "good_points": ["良かった点1", "良かった点2"],
  "improvements": ["改善点1"],
  "next_step": "次のステップへのアドバイス"
}
```

**エラーハンドリング**:
| エラー種別 | 対応 |
|---|---|
| JSONパースエラー | リトライ（最大3回） |
| 必須フィールド欠落 | リトライ（最大3回） |
| レート制限 | 指数バックオフでリトライ |
| 3回失敗 | 手動評価キューに追加 |

**関連仕様**: gemini_integration_spec.md
**関連テーブル**: `evaluations`

---

#### FR-020: 修了判定

**概要**: 修了要件の達成状況を判定

**修了要件**:
| 要件 | 条件 | 計算ロジック |
|---|---|---|
| 動画視聴 | 100% | viewing_logs COUNT = 12 |
| 必須課題 | 100% | 11課題 + 最終課題1 = 12課題（詳細下記） |
| 最終発表 | 参加 | final_presentation_attended_at IS NOT NULL |

**必須課題のカウントロジック**:
```
必須課題数 = Session 1〜11の必須課題（各1件 × 11 = 11件）
           + 最終課題（EX-23〜26の4成果物すべて提出で1件）
           = 12件
```

**最終課題の特殊ルール**:
- Session 12（最終課題）はEX-23〜EX-26の4成果物で構成
- 4成果物すべて提出で「最終課題1件完了」としてカウント
- 部分提出（3件以下）は未完了扱い
- 評価は各成果物個別に実施

**関連API**: `GET /api/v1/completion-status`

---

#### FR-024: 利用規約同意

**概要**: 初回ログイン時に利用規約を表示し、同意を記録

**フロー**:
1. 招待登録完了後、または初回ログイン時に規約画面を表示
2. 利用規約・プライバシーポリシーの全文を表示
3. チェックボックスで同意を取得
4. 同意情報をDB保存後、メイン画面へ遷移

**記録項目**:
| 項目 | 説明 |
|---|---|
| user_id | ユーザーID |
| terms_agreed_at | 同意日時 |
| terms_ip_address | 同意時のクライアントIP |
| terms_version | 規約バージョン（例: v1.0） |

**規約更新時の処理**:
- 規約バージョンが更新された場合、再同意を要求
- 旧同意履歴は保持（監査用）

**関連API**: `POST /api/v1/auth/agree-terms`
**関連テーブル**: `users`（terms_agreed_at, terms_version, terms_ip_address カラム追加）

---

#### FR-025: コホート管理

**概要**: 期別・企業別の受講者グループを管理

**コホートの定義**:
| 属性 | 説明 | 例 |
|---|---|---|
| name | コホート名 | 第1期（2026年4月開講） |
| organization | 企業名 | 株式会社サンプル |
| start_date | 開講日 | 2026-04-01 |
| end_date | 修了予定日 | 2026-06-30 |
| status | 状態 | active / completed / cancelled |

**機能一覧**:
| 機能 | 説明 | 権限 |
|---|---|---|
| コホート作成 | 新規コホートを登録 | admin |
| コホート編集 | 名称・期間・状態を変更 | admin |
| 受講者割当 | コホートに受講者を追加/削除 | admin |
| コホート別進捗 | コホート単位の進捗集計 | instructor, admin |
| コホート別レポート | コホート単位のエクスポート | admin |

**受講者とコホートの関係**:
- 1受講者は1コホートに所属（多重所属不可）
- 招待時にコホートを指定
- コホート変更は管理者のみ可能

**関連API**:
- `GET /api/v1/admin/cohorts` - コホート一覧
- `POST /api/v1/admin/cohorts` - コホート作成
- `PUT /api/v1/admin/cohorts/{cohort_id}` - コホート編集
- `POST /api/v1/admin/cohorts/{cohort_id}/members` - 受講者割当
- `DELETE /api/v1/admin/cohorts/{cohort_id}/members/{user_id}` - 受講者削除

**関連テーブル**: `cohorts`（新規追加）, `users`（cohort_id カラム追加）

---

### 3.3 課題構成

| Session | 必須課題 | 任意課題 | 備考 |
|---|---|---|---|
| 1 | EX-01 | EX-02 | プロンプト基礎 |
| 2 | EX-03 | EX-04 | 文脈・制約・出力形式 |
| 3 | EX-05 | EX-06 | 対話型プロンプト |
| 4 | EX-07 | EX-08 | 複合プロンプト |
| 5 | EX-09 | EX-10 | メタプロンプト |
| 6 | EX-11 | EX-12 | GPTs企画 |
| 7 | EX-13 | EX-14 | Instructions設計 |
| 8 | EX-15 | EX-16 | 知識ベース構築 |
| 9 | EX-17 | EX-18 | テスト・改善 |
| 10 | EX-19 | EX-20 | GPTs仕様書完成 |
| 11 | EX-21 | EX-22 | 業務プロセス分析 |
| 12 | EX-23, 24, 25, 26 | - | 最終課題（4成果物全て必須） |

**合計**: 必須12課題（Session 1-11各1 + 最終課題1）、任意12課題

---

## 4. 非機能要件

### 4.1 性能要件

| ID | 要件 | 目標値 | 測定方法 |
|---|---|---|---|
| NFR-P01 | ページ表示時間 | 3秒以内 | Lighthouse LCP |
| NFR-P02 | API応答時間 | 500ms以内（95%ile） | APMモニタリング |
| NFR-P03 | LLM評価完了時間 | 10分以内 | ログ分析 |
| NFR-P04 | 同時接続ユーザー | 100名 | 負荷テスト |
| NFR-P05 | ファイルアップロード | 10MB/件、5秒以内 | 実測 |

### 4.2 可用性要件

| ID | 要件 | 目標値 | 備考 |
|---|---|---|---|
| NFR-A01 | 稼働率 | 99%（月間） | 計画停止除く |
| NFR-A02 | MTTR | 4時間以内 | 障害復旧時間 |
| NFR-A03 | バックアップ | 日次自動 | 30日保持 |
| NFR-A04 | DR | - | 単一リージョン（Supabase標準） |

### 4.3 セキュリティ要件

| ID | 要件 | 実装方法 |
|---|---|---|
| NFR-S01 | 認証 | Supabase Auth（JWT） |
| NFR-S02 | 認可 | RBAC + RLS |
| NFR-S03 | 通信暗号化 | TLS 1.3 |
| NFR-S04 | パスワード保存 | bcrypt（コスト12） |
| NFR-S05 | SQLインジェクション対策 | Prisma ORM（パラメータバインド） |
| NFR-S06 | XSS対策 | React自動エスケープ、CSP |
| NFR-S07 | CSRF対策 | SameSite Cookie |
| NFR-S08 | レート制限 | ログイン5回/15分、提出10回/時 |
| NFR-S09 | アカウントロック | 5回失敗で30分ロック |
| NFR-S10 | 監査ログ | 重要操作を7年保持 |

### 4.4 データ保持要件

| データ種別 | 保持期間 | 削除方式 | 根拠 |
|---|---|---|---|
| ユーザー情報 | 5年 | 論理削除→物理削除 | 助成金監査 |
| 提出物・評価 | 5年 | 論理削除→物理削除 | 助成金エビデンス |
| 視聴ログ | 7年 | 保持 | 助成金証跡 |
| 監査ログ | 7年 | 保持 | コンプライアンス |
| 通知履歴 | 1年 | 物理削除 | 運用データ |

### 4.5 運用・保守要件

| ID | 要件 | 内容 |
|---|---|---|
| NFR-O01 | 監視 | Vercel Analytics + Sentry |
| NFR-O02 | アラート | エラー率1%超、応答5秒超で通知 |
| NFR-O03 | ログ | 構造化ログ（JSON）、1年保持 |
| NFR-O04 | デプロイ | GitHub Actions CI/CD |
| NFR-O05 | ロールバック | 直前バージョンに5分以内で復旧可能 |

---

## 5. インターフェース要件

### 5.1 外部システム連携

| システム | 用途 | 連携方式 | 認証 |
|---|---|---|---|
| Supabase | DB・認証・ストレージ | SDK | Service Role Key |
| Gemini API | LLM評価 | REST API | APIキー |
| Resend | メール送信 | REST API | APIキー |
| YouTube/Vimeo | 動画埋め込み | iframe | 限定公開URL |
| Zoom | ミーティング | なし（リンク共有のみ） | - |

### 5.2 API設計方針

| 項目 | 方針 |
|---|---|
| アーキテクチャ | RESTful API |
| データ形式 | JSON |
| 認証 | Bearer Token（JWT） |
| バージョニング | URLパス（/api/v1/） |
| エラー形式 | RFC 7807準拠 |

**詳細**: api_spec.md参照

### 5.3 データベース設計方針

| 項目 | 方針 |
|---|---|
| RDBMS | PostgreSQL 15+ |
| ホスティング | Supabase |
| 命名規則 | スネークケース、複数形 |
| 主キー | UUID |
| 論理削除 | deleted_atカラム |
| 行レベルセキュリティ | RLS有効 |

**詳細**: db_schema.md参照

---

## 6. 制約条件

### 6.1 技術制約

| 制約 | 内容 | 理由 |
|---|---|---|
| フロントエンド | Next.js 14+ (App Router) | RSC対応、開発効率 |
| バックエンド | Next.js API Routes | 統一スタック |
| データベース | Supabase (PostgreSQL) | RLS、認証統合 |
| LLM | Gemini API (gemini-1.5-flash) | コスト効率 |
| ホスティング | Vercel | Next.js最適化 |

### 6.2 ビジネス制約

| 制約 | 内容 |
|---|---|
| 招待制 | 自己登録不可、管理者招待のみ |
| 助成金対応 | 視聴ログ・提出記録の証跡保持必須 |
| データ分離 | 企業間のデータアクセス分離（RLS） |
| 外部混在 | 企業/個人/学生の混在受講対応 |

### 6.3 スケジュール制約

| マイルストーン | 日付 | 内容 |
|---|---|---|
| MVP完成 | 2026-02-15 | 基本機能実装完了 |
| 第1期開講 | 2026-03-01 | 本番運用開始 |

---

## 7. 用語定義

| 用語 | 定義 |
|---|---|
| セッション | 動画コンテンツの単位。全12セッション（Session 12は最終課題） |
| パート | 各セッションの動画構成単位。Part X-1（理論）、Part X-2（実践） |
| 課題 | 各セッションに紐づく実習課題。必須/任意の2種類 |
| 提出 | 受講者が課題に対して提出するテキスト/ファイル |
| 評価 | 提出物に対するスコアとフィードバック |
| 視聴チェックイン | 動画視聴完了の自己申告記録 |
| 修了 | 全修了要件を達成した状態 |
| コホート | 期別・企業別の受講者グループ単位。cohort_idで管理 |

---

## 8. 要件トレーサビリティ

### 8.1 ビジネス要件との対応

| ビジネス要件（requirements.md） | 機能要件 | 備考 |
|---|---|---|
| BR-01: 全タイプ受講者対応 | FR-008（必須/任意分類） | |
| BR-02: 動画完走率80%以上 | FR-007（視聴チェックイン） | |
| BR-03: 必須課題提出率100% | FR-009（課題提出）、FR-020（修了判定） | |
| BR-04: 満足度4.0以上 | **スコープ外** | 外部アンケートツール（Googleフォーム等）で計測 |
| BR-05: 継続受講率70%以上 | **スコープ外** | 外部CRM/営業管理システムで計測 |
| BR-06: 助成金要件対応 | FR-021（レポート出力）、FR-023（監査ログ） | |
| BR-07: 外部混在対応 | FR-002（招待登録）、NFR-S02（RLS） | |

### 8.2 画面との対応

| 機能要件 | 画面ID（app_spec.md） |
|---|---|
| FR-001 ログイン | P-02 |
| FR-002 招待登録 | P-05 |
| FR-004 ダッシュボード（受講者） | S-01 |
| FR-005 セッション一覧 | S-02 |
| FR-006 セッション詳細 | S-03 |
| FR-009 課題提出 | S-05 |
| FR-012 評価結果表示 | S-07 |
| FR-015 ダッシュボード（管理者） | A-01 |
| FR-017 手動評価 | A-06 |
| FR-021 レポート出力 | A-10 |
| FR-024 利用規約同意 | P-06（新規追加） |
| FR-025 コホート管理 | A-12（新規追加） |

### 8.3 APIとの対応

| 機能要件 | APIエンドポイント（api_spec.md） |
|---|---|
| FR-001 | POST /api/v1/auth/login |
| FR-002 | POST /api/v1/auth/register |
| FR-007 | POST /api/v1/viewing-logs |
| FR-009 | POST /api/v1/submissions |
| FR-010 | PUT /api/v1/exercises/{exercise_id}/draft |
| FR-011 | （内部処理） |
| FR-017 | POST /api/v1/admin/submissions/{submission_id}/evaluate |
| FR-019 | POST /api/v1/admin/learners/{user_id}/final-presentation |
| FR-020 | GET /api/v1/completion-status |
| FR-021 | GET /api/v1/admin/reports/export |
| FR-024 | POST /api/v1/auth/agree-terms |
| FR-025 | GET/POST /api/v1/admin/cohorts, PUT /api/v1/admin/cohorts/{cohort_id}, POST /api/v1/admin/cohorts/{cohort_id}/members, DELETE /api/v1/admin/cohorts/{cohort_id}/members/{user_id} |

### 8.4 テーブルとの対応

| 機能要件 | テーブル（db_schema.md） |
|---|---|
| FR-001, FR-002, FR-024 | users |
| FR-007 | viewing_logs |
| FR-009, FR-010 | submissions |
| FR-011, FR-012 | evaluations |
| FR-022 | notifications |
| FR-023 | audit_logs |
| FR-025 | cohorts（新規追加）, users.cohort_id |

---

## 9. 前提条件と依存関係

### 9.1 前提条件

| # | 前提条件 |
|---|---|
| 1 | 受講者はメールアドレスを保有している |
| 2 | 受講者はWebブラウザ（Chrome/Safari/Edge最新版）を利用できる |
| 3 | 受講者はChatGPT Plus/Teamアカウントを保有している（GPTs作成用） |
| 4 | 動画コンテンツはYouTube/Vimeo限定公開で提供される |
| 5 | Zoomミーティングは別途スケジュール管理される |

### 9.2 依存関係

| 依存先 | 内容 | リスク |
|---|---|---|
| Supabase | DB・認証・ストレージ | サービス障害時に全機能停止 |
| Gemini API | 自動評価 | 障害時は手動評価にフォールバック |
| Vercel | ホスティング | 障害時にサービス停止 |
| Resend | メール送信 | 障害時に通知遅延 |

---

## 10. 承認

| 役割 | 氏名 | 承認日 |
|---|---|---|
| プログラムマネージャー | AI-PgM | 2026-01-05 |
| 業務責任者 | 井戸 | - |
| 開発リード | - | - |

---

## 更新履歴

| 日付 | バージョン | 変更内容 |
|---|---|---|
| 2026-01-05 | v1.0 | 初版作成 |
| 2026-01-05 | v1.1 | レビュー指摘対応: FR-024（利用規約同意）追加、FR-009にURL入力追加、修了判定ロジック明確化、BR-04/BR-05スコープ外明記、APIパス形式統一 |
| 2026-01-05 | v1.2 | 2次レビュー対応: FR-025（コホート管理）をP0要件として追加、BR-05 KPI値を70%に修正、用語定義更新 |
| 2026-01-05 | v1.3 | 3次レビュー対応: FR-024カラム名をDBスキーマと整合（terms_agreed_at, terms_ip_address）、FR-025トレーサビリティにメンバー削除API追加 |
