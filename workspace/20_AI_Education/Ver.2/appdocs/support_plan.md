# 本番後サポート計画書

- プロジェクト名: AIポリテラシー育成プログラム Ver.2
- 作成日: 2026-01-06
- 版: v1.0
- 関連文書: runbook.md, monitoring_spec.md, infrastructure_spec.md

---

## 1. サポート体制

### 1.1 サポートチーム構成

| 役割 | 担当者 | 責務 | 対応時間 |
|---|---|---|---|
| **プログラムマネージャー（PM）** | [氏名] | 全体統括、エスカレーション最終判断 | 営業時間 |
| **講師** | 井戸 | 教育内容、受講者対応、ミーティング | 営業時間 |
| **技術サポート（主担当）** | [氏名] | 技術的問題解決、障害対応 | 営業時間 |
| **技術サポート（副担当）** | [氏名] | 主担当のバックアップ | 営業時間 |
| **運用担当** | [氏名] | 日次監視、定期メンテナンス | 営業時間 |

### 1.2 オンコール体制（本番稼働後）

| 時間帯 | 対応者 | 対応範囲 |
|---|---|---|
| **営業時間（平日 9:00-18:00）** | 技術サポート（主担当） | 全ての問い合わせ |
| **営業時間外・休日** | なし（翌営業日対応） | 自動監視アラートのみ |

**重要**: 本プログラムは研修用途のため、24/7体制は設けません。
営業時間外に発生した障害は、翌営業日の朝一で対応します。

### 1.3 連絡先一覧

| 役割 | 連絡方法 | 用途 |
|---|---|---|
| 技術サポート | support@ai-politeracy.example.com | 技術的問い合わせ |
| 講師 | instructor@ai-politeracy.example.com | 教育内容の質問 |
| 緊急連絡 | [電話番号] | P1障害時のみ |
| Slackチャンネル | #support-ai-politeracy | 内部連絡・障害共有 |

---

## 2. サポートチャネル

### 2.1 受講者向けサポート

| チャネル | 用途 | 対応時間 | 目標応答時間 |
|---|---|---|---|
| **Webアプリ内問い合わせ** | 技術的な問題、操作方法 | 営業時間 | 24時間以内 |
| **メール** | 詳細な質問、添付資料あり | 営業時間 | 48時間以内 |
| **隔週ミーティング** | 課題内容、学習相談 | ミーティング時 | 即時 |
| **FAQ（セルフサービス）** | よくある質問 | 24時間 | - |

### 2.2 講師向けサポート

| チャネル | 用途 | 対応時間 | 目標応答時間 |
|---|---|---|---|
| **Slack（内部）** | 技術的な相談、緊急連絡 | 営業時間 | 4時間以内 |
| **管理画面** | 受講者データ確認、評価管理 | 24時間 | - |
| **週次レビュー** | 運用状況の共有、改善提案 | 毎週月曜 | - |

### 2.3 問い合わせフォーム仕様

**Webアプリ内問い合わせ（`/support`）**

| フィールド | 必須 | 説明 |
|---|---|---|
| カテゴリ | ✓ | ログイン/課題提出/評価/動画視聴/その他 |
| 件名 | ✓ | 問題の概要（50文字以内） |
| 詳細 | ✓ | 問題の詳細（1000文字以内） |
| スクリーンショット | - | 問題の画面キャプチャ（10MB以内） |
| 連絡先メール | ✓ | 回答送信先（自動入力） |

---

## 3. SLA（サービスレベル合意）

### 3.1 可用性目標

| 指標 | 目標 | 測定方法 | 報告頻度 |
|---|---|---|---|
| **サービス可用性** | 99.5%/月 | UptimeRobot | 月次 |
| **計画外停止時間** | < 3.6時間/月 | 障害記録 | 月次 |
| **データ損失** | 0件 | 監査ログ | 月次 |

### 3.2 パフォーマンス目標

| 指標 | 目標 | 許容限界 | 測定方法 |
|---|---|---|---|
| **ページ読み込み（LCP）** | < 2.5s | < 4.0s | Vercel Analytics |
| **API応答（P95）** | < 500ms | < 1s | Vercel Logs |
| **課題評価完了** | < 10分 | < 30分 | システムログ |

### 3.3 サポート応答目標（営業時間内）

**対応時間**: 平日 9:00-18:00（祝日を除く）

| 重要度 | 初回応答 | 解決目標 | 対象 |
|---|---|---|---|
| **P1（Critical）** | 1時間以内 | 4営業時間以内 | サービス停止、全ユーザー影響 |
| **P2（High）** | 2時間以内 | 1営業日以内 | 主要機能障害、複数ユーザー影響 |
| **P3（Medium）** | 1営業日以内 | 3営業日以内 | 一部機能障害、個別ユーザー |
| **P4（Low）** | 2営業日以内 | 5営業日以内 | 軽微な問題、改善要望 |

**注意**:
- 上記は全て**営業時間内**での目標です
- 営業時間外に発生した問い合わせは、翌営業日の営業開始時点からカウント開始
- 研修プログラムの特性上、24/7対応は行いません

### 3.4 SLA除外事項

以下はSLA計算から除外:

1. 計画メンテナンス（事前通知済み）
2. 外部サービス（Supabase、Vercel）の障害
3. 不可抗力（自然災害、電力障害等）
4. 受講者側の環境問題（ブラウザ、ネットワーク）

---

## 4. 問い合わせ対応フロー

### 4.1 標準対応フロー

```
受講者                  サポート                   技術チーム
   |                       |                          |
   |---[問い合わせ]------->|                          |
   |                       |                          |
   |                   [分類・優先度判定]             |
   |                       |                          |
   |<--[自動確認メール]----|                          |
   |                       |                          |
   |                   [FAQ/過去事例確認]             |
   |                       |                          |
   |<--[回答]--------------|  (解決可能な場合)        |
   |                       |                          |
   |                       |---[エスカレーション]--->| (技術調査必要)
   |                       |                          |
   |                       |<--[調査結果]-------------|
   |                       |                          |
   |<--[回答]--------------|                          |
   |                       |                          |
   |---[解決確認]--------->|                          |
   |                       |                          |
   |                   [クローズ]                     |
```

### 4.2 カテゴリ別対応ガイド

#### ログイン問題

```
1. アカウントロック確認
   - 管理画面 → ユーザー管理 → 対象ユーザー
   - login_failed_count、locked_until を確認

2. パスワードリセット
   - 管理画面から「パスワードリセットメール送信」

3. 招待トークン期限切れ
   - 新しい招待メールを再送信

4. 上記で解決しない場合
   - 技術チームにエスカレーション
```

#### 課題提出問題

```
1. 提出エラー確認
   - エラーメッセージの内容を確認
   - ファイルサイズ（10MB制限）を確認

2. 評価未完了
   - 管理画面 → 評価管理 → 対象提出物
   - ステータスを確認（evaluating/manual_queue）

3. 手動評価キュー
   - 講師に手動評価を依頼

4. 上記で解決しない場合
   - 技術チームにエスカレーション
```

#### 動画視聴問題

```
1. 再生エラー
   - ブラウザキャッシュクリアを案内
   - 別ブラウザでの再生を案内

2. チェックイン記録されない
   - 動画を最後まで視聴したか確認
   - 手動チェックイン（管理画面から）

3. 動画が見つからない
   - セッションの公開状態を確認
   - URLが正しいか確認
```

### 4.3 エスカレーション基準

| 条件 | エスカレーション先 | 対応 |
|---|---|---|
| 同じ問題が3件以上発生 | 技術チーム | バグ調査 |
| 30分で解決できない | 上位サポート | 判断支援 |
| 機密情報に関わる | PM | 判断依頼 |
| 教育内容への不満 | 講師 | 対応方針相談 |

---

## 5. 定期メンテナンス

### 5.1 メンテナンス種別

| 種別 | 頻度 | 時間帯 | 影響 | 事前通知 |
|---|---|---|---|---|
| **定期メンテナンス** | 月1回 | 平日 3:00-5:00 | サービス停止 | 1週間前 |
| **セキュリティパッチ** | 随時 | 営業時間外 | 一時停止あり | 48時間前 |
| **緊急メンテナンス** | 随時 | - | 可能な限り短時間 | 可能な限り事前 |
| **DBバックアップ** | 日次（自動） | 2:00 | なし | 不要 |

### 5.2 メンテナンス告知テンプレート

```markdown
【メンテナンスのお知らせ】AIポリテラシー育成プログラム

いつもご利用いただきありがとうございます。

下記の日時にてシステムメンテナンスを実施いたします。

■ 日時
2026年○月○日（○） 3:00 ～ 5:00 （予定）

■ 影響
メンテナンス中は、Webアプリにアクセスできません。

■ 作業内容
・システムアップデート
・セキュリティパッチ適用

■ お願い
・メンテナンス開始前に、作業中の内容を保存してください。
・メンテナンス終了後、正常に動作しない場合はキャッシュクリアをお試しください。

ご不便をおかけしますが、ご理解のほどよろしくお願いいたします。

AIポリテラシー育成プログラム運営事務局
```

### 5.3 メンテナンス実施手順

```
【事前準備（D-7）】
□ メンテナンス日時の決定
□ 作業内容の確認
□ ロールバック計画の策定

【告知（D-3）】
□ メンテナンス告知メール送信
□ Webアプリ内バナー表示

【当日（D）】
□ 作業開始30分前：最終確認
□ 作業開始：メンテナンスモード有効化
□ 作業実施：計画に沿って実行
□ 動作確認：全機能テスト
□ 作業完了：メンテナンスモード解除
□ 完了報告：Slackで共有

【事後（D+1）】
□ 正常性監視（24時間）
□ 問題があれば即時対応
```

---

## 6. 障害対応（runbook.md連携）

### 6.1 障害分類

| 重要度 | 定義 | 例 | 対応時間（営業時間内） |
|---|---|---|---|
| **P1** | サービス全停止 | ログイン不可、全画面エラー | 1時間以内 |
| **P2** | 主要機能障害 | 課題提出不可、評価エラー多発 | 2時間以内 |
| **P3** | 一部機能障害 | 特定ページのエラー、表示崩れ | 1営業日以内 |
| **P4** | 軽微な問題 | 誤字、UIの微調整 | 次回リリース |

**注意**: 上記は全て**営業時間内（平日9:00-18:00）**での対応目標です。営業時間外に発生した障害は翌営業日に対応します。

### 6.2 障害発生時の連絡フロー

```
1. 障害検知（監視/ユーザー報告）
   ↓
2. 初期調査（影響範囲・重要度判定）
   ↓
3. 社内共有（Slack #alerts-ai-politeracy）
   ↓
4. ユーザー通知（P1/P2の場合）
   ↓
5. 復旧対応
   ↓
6. 復旧確認・完了報告
   ↓
7. ポストモーテム作成（P1/P2の場合）
```

### 6.3 ユーザー向け障害通知テンプレート

```markdown
【システム障害のお知らせ】

現在、システムに障害が発生しております。

■ 発生日時
2026年○月○日（○） ○○:○○

■ 影響
・○○機能が利用できません
・○○にアクセスできません

■ 状況
現在、復旧作業中です。
復旧次第、改めてご連絡いたします。

ご不便をおかけし、誠に申し訳ございません。

---

【復旧のお知らせ】

先ほどお知らせしたシステム障害は、復旧いたしました。

■ 復旧日時
2026年○月○日（○） ○○:○○

■ 原因
○○による一時的な障害

ご迷惑をおかけし、申し訳ございませんでした。
再発防止に努めてまいります。
```

---

## 7. 継続的改善

### 7.1 フィードバック収集

| 収集方法 | 頻度 | 対象 | 分析担当 |
|---|---|---|---|
| **問い合わせ分析** | 週次 | 全問い合わせ | サポート |
| **ミーティングFB** | 隔週 | 参加受講者 | 講師 |
| **修了時アンケート** | コース終了時 | 全受講者 | PM |
| **NPS調査** | 四半期 | 全受講者 | PM |

### 7.2 改善プロセス

```
1. フィードバック収集
   - 問い合わせ、アンケート、ミーティングFB

2. 分析・優先順位付け
   - 頻度、影響度、実現可能性で評価

3. 改善計画策定
   - 担当者、期限、成功指標を設定

4. 実装
   - 開発/運用チームで対応

5. 効果測定
   - 改善前後の指標を比較

6. ナレッジ共有
   - FAQ更新、マニュアル改訂
```

### 7.3 改善トラッキング

| 月 | 課題 | 改善内容 | 担当 | 状況 |
|---|---|---|---|---|
| 1月 | ログイン問題が多い | FAQ充実 | サポート | 完了 |
| 1月 | 評価遅延 | バッチ処理改善 | 開発 | 対応中 |
| ... | ... | ... | ... | ... |

---

## 8. 費用管理

### 8.1 月額コスト目安

| サービス | プラン | 月額目安 | 備考 |
|---|---|---|---|
| **Vercel** | Pro | $20/メンバー | チーム3名想定 |
| **Supabase** | Pro | $25 | 小規模利用 |
| **Gemini API** | 従量課金 | $50-100 | 評価処理量による |
| **Resend** | Free/Pro | $0-20 | メール送信量による |
| **Sentry** | Team | $26 | エラー監視 |
| **合計** | | **$150-200/月** | |

### 8.2 コスト監視

```
【月次確認事項】

1. Vercel
   - Settings → Billing → Usage
   - Edge Function実行時間、帯域幅を確認

2. Supabase
   - Settings → Billing → Usage
   - DB容量、Auth MAU、Storageを確認

3. Gemini API
   - Google Cloud Console → Billing
   - 使用量とコストを確認

4. Resend
   - Dashboard → Usage
   - 送信メール数を確認
```

### 8.3 コスト最適化施策

| 施策 | 効果 | 実施状況 |
|---|---|---|
| Gemini API キャッシュ活用 | API呼び出し削減 | 計画中 |
| 画像最適化 | 帯域幅削減 | 実装済み |
| 不要ログの削除 | DB容量削減 | 月次実施 |
| CDNキャッシュ活用 | Edge呼び出し削減 | 実装済み |

---

## 9. ドキュメント管理

### 9.1 ドキュメント一覧

| ドキュメント | 更新頻度 | 管理者 | 場所 |
|---|---|---|---|
| **本ガイド（support_plan.md）** | 四半期 | PM | /appdocs/ |
| **運用手順書（runbook.md）** | 随時 | 運用担当 | /appdocs/ |
| **FAQ** | 随時 | サポート | Webアプリ内 |
| **障害報告書** | 障害発生時 | 運用担当 | /docs/incidents/ |
| **月次レポート** | 月次 | PM | /docs/reports/ |

### 9.2 ドキュメント更新ルール

1. **軽微な更新**（誤字、連絡先変更等）
   - 担当者が直接更新
   - 更新履歴に記録

2. **重要な更新**（SLA変更、フロー変更等）
   - PMの承認を得てから更新
   - 関係者に周知

3. **年次レビュー**
   - 全ドキュメントの棚卸し
   - 不要ドキュメントのアーカイブ

---

## 10. サポート品質指標（KPI）

### 10.1 月次追跡指標

| 指標 | 目標 | 測定方法 |
|---|---|---|
| **初回応答時間** | P1: 1時間、P2: 2時間（営業時間内） | チケット管理 |
| **解決率** | > 90% | 解決済み / 全件 |
| **再オープン率** | < 5% | 再オープン / 解決済み |
| **顧客満足度** | > 4.0/5.0 | 解決後アンケート |
| **FAQ利用率** | > 30% | 自己解決 / 全問い合わせ |

### 10.2 レポートテンプレート

```markdown
# サポート月次レポート（YYYY年MM月）

## 1. サマリー
- 問い合わせ件数: XX件（前月比 +/-XX%）
- 解決件数: XX件
- 平均解決時間: XX時間
- 顧客満足度: X.X/5.0

## 2. カテゴリ別内訳
| カテゴリ | 件数 | 割合 |
|---|---|---|
| ログイン | XX | XX% |
| 課題提出 | XX | XX% |
| 評価 | XX | XX% |
| その他 | XX | XX% |

## 3. トップ問い合わせ
1. ○○に関する問題（XX件）
2. ○○の操作方法（XX件）
3. ○○エラー（XX件）

## 4. 改善アクション
- [対応済み] ○○を改善
- [対応中] ○○の修正
- [計画中] ○○の追加

## 5. 来月の注力ポイント
- ○○
```

---

## 11. チェックリスト

### 11.1 サポート開始前チェック

```
□ サポートチーム体制を確定
□ 連絡先を受講者に共有
□ FAQを初期整備
□ 問い合わせフォームを動作確認
□ チケット管理ツールを設定
□ Slackチャンネルを作成
□ オンコール体制を設定
□ SLAを受講者/クライアントに説明
```

### 11.2 日次チェック

```
□ 新規問い合わせを確認
□ 未解決チケットの進捗確認
□ 障害アラートを確認
□ Slackでの報告事項確認
```

### 11.3 週次チェック

```
□ 問い合わせ傾向を分析
□ FAQ更新の必要性を検討
□ SLA達成状況を確認
□ 翌週の計画メンテナンス確認
```

### 11.4 月次チェック

```
□ 月次レポート作成
□ SLA達成状況レビュー
□ コスト確認
□ ドキュメント更新
□ 改善アクション進捗確認
```

---

## 更新履歴

| 日付 | バージョン | 変更内容 |
|---|---|---|
| 2026-01-06 | v1.0 | 初版作成 |
| 2026-01-06 | v1.1 | SLA対応時間を営業時間内限定に変更、オンコール体制を簡素化 |
| 2026-01-06 | v1.2 | 障害分類表の対応時間を営業時間内に統一（P1: 即時→1時間以内、P3: 24時間→1営業日） |
